# 更新日志

## [0.9.4] - 2025-07-25

### 功能增强
- **SEO配置优化与结构化数据**
  - 创建SEO工具库，支持生成多种结构化数据
  - 添加JSON-LD结构化数据，提高搜索引擎可见性
  - 实现文章、网站、组织和面包屑导航的结构化数据
  - 优化页面元数据，包括OpenGraph和Twitter Cards
  - 添加规范链接(canonical)，避免重复内容问题
  - 改进HTML语义标记，提高页面可访问性
  - 添加关键词和描述，优化搜索引擎索引

## [0.9.3] - 2025-07-22

### 修复和改进
- **评论系统性能优化**
  - 创建新的评论API路由，使用数据库替代文件系统存储
  - 实现评论分页加载功能，减少初始加载时间
  - 优化评论层次结构构建算法，提高渲染效率
  - 添加"加载更多"功能，避免一次性加载全部评论
  - 实现评论提交后的即时显示，无需重新加载
  - 优化评论表单交互体验和错误处理

## [0.9.2] - 2025-07-18

### 修复和改进
- **移动端响应式布局优化**
  - 修复导航栏在移动设备上的显示问题
  - 在移动菜单中添加搜索框功能
  - 优化移动菜单的样式和交互体验
  - 改进首页在小屏幕设备上的布局和间距
  - 优化博客页面特色文章在移动端的显示效果
  - 改进文章卡片在不同屏幕尺寸下的适配性
  - 限制标签显示数量，提高移动端可读性

## [0.9.1] - 2025-07-15

### 修复和改进
- **数据库连接配置修复**
  - 修复文章入库功能，解决文章无法保存到数据库的问题
  - 配置正确的PostgreSQL数据库连接参数
  - 添加数据库同步和文章入库测试脚本
  - 确保开发环境和生产环境数据库结构一致

- **用户界面修复**
  - 修复"写新文章"按钮的导航链接，确保正确跳转到文章创建页面
  - 统一用户个人中心和管理后台的页面导航逻辑
  - 重新设计文章创建页面，简化用户体验和权限检查逻辑
  - 允许所有登录用户创建文章，不再要求管理员权限

- **用户权限系统增强**
  - 添加用户角色字段(role)，支持区分普通用户和管理员
  - 修复管理后台的权限验证逻辑，确保只有管理员可以访问
  - 更新测试脚本，支持创建和更新管理员用户
  - 修复JWT token中缺少角色字段的问题，确保权限验证正常工作

- **部署流程优化**
  - 更新构建脚本，自动执行数据库迁移
  - 确保部署环境的数据库结构与开发环境一致
  - 修复部署环境中的用户角色字段缺失问题

- **文章编辑功能增强**
  - 实现图片上传功能，支持拖放和点击上传
  - 自动将上传的图片插入到编辑器光标位置
  - 支持JPEG、PNG、GIF和WEBP格式，限制大小为5MB
  - 创建专用的上传目录，确保图片资源安全存储

## [0.9.0] - 2023-07-18

### 新功能和改进
- **文章存储系统增强**
  - 实现将新文章保存到 PostgreSQL 数据库的功能
  - 创建 `/api/mdx/route.ts` API 路由处理文章创建请求
  - 双向保存机制：同时保存到数据库和文件系统以保持兼容性
  - 自动生成唯一的 slug 用于 URL
  - 自动处理文章与标签的关联关系
  - 实现用户身份验证，确保只有登录用户可以创建文章

- **管理界面改进**
  - 添加 `/app/admin/posts/new/page.tsx` 用于创建新文章
  - 提供用户友好的表单界面，包括标题、描述、内容和标签字段
  - 支持错误处理和加载状态

- **系统功能增强**
  - 创建更新日志页面，方便用户了解项目进展
  - 修复 Vercel 部署中的动态路由问题
  - 优化图片处理，使用 Next.js 的 Image 组件实现自动优化和响应式加载

## [1.0.0] - 2025-07-14 (预计)

### 发布第一个正式版本

#### 功能特性
- **博客系统核心功能**
  - 文章发布与管理
  - 标签分类系统
  - 评论功能（支持游客评论和用户评论）
  - 文章搜索功能

- **用户系统**
  - 用户注册与登录
  - JWT身份验证
  - 用户个人资料管理

- **内容管理**
  - Markdown/MDX支持
  - 草稿保存功能
  - 文章预览

- **互动功能**
  - 文章点赞
  - 文章收藏
  - 评论回复

- **订阅系统**
  - 邮件订阅功能
  - 订阅验证流程

#### 技术栈
- Next.js 14框架
- React 18
- PostgreSQL数据库（从SQLite迁移）
- Prisma ORM
- Tailwind CSS
- 支持Vercel部署

#### 数据库迁移
- 成功从SQLite迁移到PostgreSQL
- 优化数据模型，支持云端部署

#### 部署支持
- Vercel无服务器部署
- 环境变量配置
- 自动化构建流程
